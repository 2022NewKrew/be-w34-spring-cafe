CREATE TABLE IF NOT EXISTS USERS(
    ID VARCHAR(32) NOT NULL,
    PASSWORD VARCHAR(32) NOT NULL,
    NAME VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(50) NOT NULL,
    PRIMARY KEY(ID)
);

CREATE TABLE IF NOT EXISTS QUESTION(
    ID INT AUTO_INCREMENT NOT NULL,
    WRITER_ID VARCHAR(32) NOT NULL,
    TITLE VARCHAR(100) NOT NULL,
    CONTENTS TEXT NOT NULL,
    TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY(ID),
    FOREIGN KEY(WRITER_ID) REFERENCES USERS(ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS REPLY(
    ID INT AUTO_INCREMENT NOT NULL,
    QUESTION_ID INT NOT NULL,
    WRITER_ID VARCHAR(32) NOT NULL,
    CONTENTS TEXT NOT NULL,
    TIME TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY(ID),
    FOREIGN KEY(QUESTION_ID) REFERENCES QUESTION(ID) ON DELETE CASCADE,
    FOREIGN KEY(WRITER_ID) REFERENCES USERS(ID) ON DELETE CASCADE
)
