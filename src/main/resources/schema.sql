DROP TABLE IF EXISTS REPLY;
DROP TABLE IF EXISTS ARTICLE;
DROP TABLE IF EXISTS USER_DATA;

CREATE TABLE IF NOT EXISTS USER_DATA(
    USER_ID VARCHAR(16) PRIMARY KEY,
    PASSWORD VARCHAR(16),
    NAME VARCHAR(8),
    EMAIL VARCHAR(24)
);

CREATE TABLE IF NOT EXISTS ARTICLE(
    ID INT AUTO_INCREMENT PRIMARY KEY,
    TITLE VARCHAR(16),
    USER_ID VARCHAR(8),
    CONTENTS VARCHAR(100),
    CREATE_DATE TIMESTAMP DEFAULT NOW(),
    DELETED BOOLEAN DEFAULT FALSE,
    FOREIGN KEY (USER_ID) REFERENCES USER_DATA(USER_ID) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS REPLY(
    ID INT AUTO_INCREMENT PRIMARY KEY,
    ARTICLE_ID INT,
    USER_ID VARCHAR(16),
    COMMENT VARCHAR(50),
    CREATE_DATE TIMESTAMP DEFAULT NOW(),
    DELETED BOOLEAN DEFAULT FALSE,
    FOREIGN KEY (ARTICLE_ID) REFERENCES ARTICLE(ID) ON DELETE CASCADE,
    FOREIGN KEY (USER_ID) REFERENCES USER_DATA(USER_ID) ON DELETE CASCADE
);
