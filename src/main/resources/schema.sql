DROP TABLE IF EXISTS REPLIES;
DROP TABLE IF EXISTS USERS;
DROP TABLE IF EXISTS ARTICLES;

CREATE TABLE IF NOT EXISTS ARTICLES (
    ARTICLE_ID INT AUTO_INCREMENT,
    WRITER VARCHAR(32),
    TITLE VARCHAR(100),
    CONTENTS VARCHAR(1000),
    CREATETIME TIMESTAMP,
    PRIMARY KEY (ARTICLE_ID)
                                   );

CREATE TABLE IF NOT EXISTS USERS(
    ID INT AUTO_INCREMENT,
    USERID VARCHAR(32),
    PASSWORD VARCHAR(32),
    USERNAME VARCHAR(32),
    EMAIL VARCHAR(64),
    PRIMARY KEY (USERID)
                                );

CREATE TABLE IF NOT EXISTS REPLIES
(
    ID      INT AUTO_INCREMENT PRIMARY KEY,
    ARTICLE_ID INT,
    WRITER VARCHAR(32),
    CONTENTS VARCHAR(255),
    CREATETIME TIMESTAMP,
    FOREIGN KEY (ARTICLE_ID) REFERENCES ARTICLES ON DELETE SET NULL,
    FOREIGN KEY (WRITER) REFERENCES USERS ON DELETE SET NULL
);