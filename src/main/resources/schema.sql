DROP TABLE IF EXISTS USERS;
DROP TABLE IF EXISTS ARTICLES;

CREATE TABLE USERS
(
    ID       BIGINT       NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    USERID   VARCHAR(255) NOT NULL UNIQUE,
    PASSWORD VARCHAR(255),
    NAME     VARCHAR(255),
    EMAIL    VARCHAR(255),
    PRIMARY KEY (ID)
);

CREATE TABLE ARTICLES
(
    ID         BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    AUTHOR_ID  BIGINT,
    TITLE      VARCHAR(255),
    CONTENT    VARCHAR(255),
    createDATE DATETIME DEFAULT CURRENT_TIMESTAMP(),
    DELETED    BOOLEAN  DEFAULT FALSE,
    FOREIGN KEY (AUTHOR_ID) REFERENCES USERS (ID),
    PRIMARY KEY (ID)
);

CREATE TABLE REPLIES
(
    ID         BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    AUTHOR_ID  BIGINT,
    ARTICLE_ID BIGINT,
    CONTENT    VARCHAR(255),
    createDate DATETIME DEFAULT CURRENT_TIMESTAMP(),
    DELETED    BOOLEAN  DEFAULT FALSE,
    FOREIGN KEY (AUTHOR_ID) REFERENCES USERS (ID),
    FOREIGN KEY (ARTICLE_ID) REFERENCES USERS (ID),
    PRIMARY KEY (ID)
)
