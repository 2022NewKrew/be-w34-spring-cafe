DROP TABLE IF EXISTS POST;
DROP TABLE IF EXISTS USERS;
DROP TABLE IF EXISTS REPLY;

CREATE TABLE IF NOT EXISTS USERS
(
    ID       INTEGER PRIMARY KEY AUTO_INCREMENT,
    USERID   VARCHAR(30) NOT NULL,
    NICKNAME VARCHAR(30) NOT NULL,
    EMAIL    VARCHAR(30) NOT NULL,
    PASSWORD VARCHAR(30) NOT NULL
);

CREATE TABLE IF NOT EXISTS POST
(
    ID      INTEGER PRIMARY KEY AUTO_INCREMENT,
    TITLE   VARCHAR(100) NOT NULL,
    CONTENT LONGTEXT     NOT NULL,
    WRITER  VARCHAR(30)  NOT NULL REFERENCES USERS(USERID)
);

CREATE TABLE IF NOT EXISTS REPLY
(
    ID  INTEGER PRIMARY KEY AUTO_INCREMENT,
    COMMENT VARCHAR(100) NOT NULL,
    WRITER VARCHAR(30) NOT NULL REFERENCES USERS(USERID),
    POST_ID INTEGER NOT NULL REFERENCES POST(ID)
);
