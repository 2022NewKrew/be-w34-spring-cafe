# be-w34-spring-cafe

# 궁금한 점

* 유효성 검사와 예외 처리를 어디에서 해야 하는건지
* dto 패키지를 어디 위치시키는 것이 좋은지
* html에서 dto를 받아서 mustache로 dto 내부를 출력하는게 맞는지
* 어디엔 게터세터를 모두 적용하고 어디엔 게터만 적용하는데 어떤 기준으로 구분하는지
* 그 외 애너테이션들을 언제 어느 때 적용하는건지(공부 전)

---------
# 1-3 이후 추가
정답 예시 코드같은게 제공되지 않아서 막막하네요 보고 배울만한 좋은 예시가 있으면 좋은데 망망대해를 떠도는 느낌입니다...
* 유효성 검사를 service에서 하고 예외처리는 controller에서 하는게 맞는지
* 인터페이스 짜놓고 확장구현하는걸 service에서 하는지, repository에서 하는지, 둘다 할수도 있는지
* (인프런에서 짧게 본 김영한님 강의에선 repository에서 인터페이스 활용하셔서 궁금해졌습니다)
* 리포지토리에서 list에 직접 저장하면서 entity의 id값을 직접 하나씩 올리면서 저장하는 작업을 했는데 리포지토리에서 하는 게 맞게 한건지
* 글 작성 구현하면서 entity에 저장할 작성시간을 LocalTime.now()로 생성했는데 이것도 리포지토리에서 하는 일이 맞는지
* 기술온보딩 자바랑 객체지향 배울 땐 최대한 메서드들을 잘게 나누라고 배웠는데 스프링같이 짜여진 구조 안에서 코드를 작성할 때도 메서드를 잘게 나누는 것이 맞나요?
* (예를 들어 리포지토리 클래스 안에서 현재 날짜랑 시간 구하는걸 메서드로 분리해도 되는건지, 아니면 리포지토리 클래스 내엔 데이터베이스 작업과 관련된 메서드만 있어야 하는지)
* findByIndex를 했을 때 결과가 없으면 null을 리턴해야 하는지, 빈 Optional을 리턴해야 하는지, 그리고 없는 결과에 대한 예외 발생과 그 처리는 어디서 해야하는지(현재는 리포지토리 안의 stream을 사용하면서 예외 발생시킴)
* 검색해보니 dto -> entity를 해주는 modelMapper라는게 있어서 써봤는데 지난번 리뷰의 entity가 dto에 의존성을 갖지 않도록 한게 맞는건지, 아니라면 어떻게 해야하는건지

# 2-1 이후 추가
* 글 작성자를 회원가입 되어있는 유저로 지정해야해서 Article entity의 변수에 User를 추가하고 데이터베이스에서 외래키 지정하려는데 이렇게 해도 되나요? entity 사이에 의존성 생기면 안좋은건가 해서 질문드립니다
* 그리고 데이터베이스에서 글 정보를 가져올 때 writer(User entity)에 대한 정보들도 가져오는 작업은 어디서 해야 할까요? 리포지토리에서 RowMapper 내에 작성하면 코드 반복이 없어서 편한데 articleRepo가 userRepo의 메서드를 써야 해서 의존성 문제가 생기는게 아닌가 해서 질문드립니다
* (해보니까 repo끼리는 생성자 자동 생성이 안 되게 막혀있어서 service들 사이에 dto를 주도록 했습니다)
* 유저가 로그인했는지 체크하는 어노테이션이랑 유저가 로그인했으면서 접근권한이 있는지 체크하는 어노테이션, 총 2개를 만들려는데 두 번째 어노테이션에서 로그인했는지 체크로직을 또 만들지 않고 첫 번째 어노테이션을 재사용하는 방법이 있나요?
  * 로그인 여부 어노테이션이랑 '권한 체크'만 하는 어노테이션으로 분리하면 컨트롤러에서 메서드마다 어노테이션을 두 개씩 붙여야 로그인여부와 권한체크가 모두되는데 저는 두 번째 어노테이션만 붙이면 되게 만들고 싶어요